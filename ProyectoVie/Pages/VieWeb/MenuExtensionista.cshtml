@page
@model ProyectoVie.Pages.VieWeb.MenuExtensionistaModel
@{
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú Extensionista</title>
    <link rel="stylesheet" href="../css/menue.css">
</head>
<body>
    <header class="header">
        <div class="logo">
            <img src="/css/tec-logo.jpg" alt="Logo del Tecnológico de Costa Rica">
        </div>
        <form role="search" aria-label="Buscar propuestas" class="search-form">
            <input type="text" id="search-bar" placeholder="Buscar propuesta..." aria-label="Buscar propuesta">
        </form>
        <nav class="profile-nav">
            <a href="/perfil" aria-label="Perfil de usuario">
                <img src="/css/icons/perfil.svg" alt="Icono de perfil" class="icon">
            </a>
        </nav>
    </header>

    <aside class="sidebar">
        <a href="/propuesta/agregar" class="add-button" aria-label="Agregar nueva propuesta">
            <img src="/css/icons/plus.svg" alt="Añadir nueva propuesta" class="icon">
            <span>Agregar Propuesta</span>
        </a>
    </aside>

    <main class="main-content">
        <h1>Mis propuestas</h1>

        <table class="propuestas-table">
            <thead>
                <tr>
                    <th>Nombre de la Propuesta</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var propuesta in Model.Propuestas)
                {
                    <tr>
                        <td>@propuesta["NombrePropuesta"]</td>
                        <td class="action-icons">
                            <a href="/propuesta/detalles/@propuesta["ID"]" aria-label="Consultar propuesta">
                                <img src="/css/icons/lupa.svg" alt="Consultar" class="icon">
                            </a>

                            @if ((byte)propuesta["ID_Estado"] == 2) 
                            {
                                <a href="/propuesta/editar/@propuesta["ID"]" aria-label="Editar propuesta">
                                    <img src="/css/icons/lapiz.svg" alt="Editar" class="icon">
                                </a>
                                <a href="/propuesta/eliminar/@propuesta["ID"]" aria-label="Eliminar propuesta">
                                    <img src="/css/icons/eliminar.svg" alt="Eliminar" class="icon">
                                </a>
                            }
                            else if ((byte)propuesta["ID_Estado"] == 3) 
                            {
                                <a href="/propuesta/eliminar/@propuesta["ID"]" aria-label="Eliminar propuesta">
                                    <img src="/css/icons/eliminar.svg" alt="Eliminar" class="icon">
                                </a>
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </main>

    <footer class="footer">
        © Tecnológico de Costa Rica
    </footer>
</body>
</html>
